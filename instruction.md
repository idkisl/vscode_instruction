# Подготовка среды разработки

Основной ОС, которая будет использоваться на курсе будет [Linux](https://en.wikipedia.org/wiki/Linux). Подробно останавливаться на ее преимуществах мы не будем, упомянем только, что на ней гарантированно доступны все необходимые санитайзеры (что это такое, будет обсуждаться на семинарах), а так же вам почти наверное придется встретиться с ней в своем дальнейшем развитии в качестве IT-специалиста, так что лучше познакомиться пораньше.

Самым лучшим вариантом будет установить какой-нибудь дистрибутив (разумеется, желательно что-то наиболее популярное: Ubuntu, Debian, Fedora, ...) себе на рабочую машину. Но если с этим возникают трудности (например, все дисковые партиции уже заняты действующей ОС, а терять данные с нее не хочется), можно воспользоваться виртуальной подсистемой Linux под Windows (WSL).

**Хорошая новость для пользователей MacOS**: вы спокойно можете работать на своей ОС, так как она относится к семейству *nix, как и Linux.

Далее конкретные шаги по установке.

## Общие рекомендации

На курсе предлагается использовать среду разработки VSCode. Вы можете использовать и любую другую, но в этом случае поддержку по вопросам работы с вашей средой никто не гарантирует.

[Ссылка на установщик.](https://code.visualstudio.com/download) Выбирайте исходя из вашей ОС.

**Важно: если вы будете пользоваться WSL, установить VSCode нужно все равно под Windows.**

**Важно №2: по возможности не используйте кириллицу в названиях директорий и именах пользователей.**

После установки запустите VSCode, комбинацией `Ctrl + P` откройте меню быстрого доступа, введите туда `ext install ms-vscode.cpptools-extension-pack`, нажмите `Enter`.

К дальнейшим шагам переходите уже после установки VSCode. Дальнейшие шаги зависят от вашей основной ОС:

* [Windows](#windows-section)
* [Linux](#linux-section)
* [MacOS](#macos-section)

<h2 id="windows-section">Windows</h2>

### WSL

Запустите командную строку или PowerShell **от имени администратора**, введите `wsl --install`, дождитесь установки. По умолчанию устанавливается дистрибутив Ubuntu, нам его хватит, дальнейшие шаги будут приводиться для работы с ним.

При желании можете установить себе в WSL и иной дистрибутив, но тогда вам самим нужно будет разобраться, какой пакетный менеджер там используется и как именуются аналогичные устанавливаемым в инструкции пакеты.

Запустите установленный дистрибутив. Это можно сделать, вбив в поисковую строку Windows название дистрибутива (по умолчанию это Ubuntu). Дистрибутив отобразится в поиске как обыкновенная установленная программа. При запуске откроется терминал Linux.

При первом запуске вам будет предложено задать имя пользователя виртуальной ОС и пароль для него. Печатаете имя и пароль, для подтверждения ввода используется `Enter`.

**Важно: при вводе пароля все будет выглядеть так, будто ничего не перечатается. Это называется "слепым вводом", это абсолютно нормально, пароль будет вводиться несмотря на отсутствие отображения хоть каких-то символов.**

### Расширение WSL для VSCode

**Установка расширения WSL и установка WSL - разные вещи! Выполнить необходимо оба шага.**

Запустите VSCode, комбинацией `Ctrl + P` откройте меню быстрого доступа, введите туда `ext install ms-vscode-remote.remote-wsl`, нажмите `Enter`.

### Настройка окружения

Запустите установленный дистрибутив (если вы успели закрыть терминал). По умолчанию вы будете находиться в корневом директории / корневом каталоге вашего пользователя. Создайте директорию под проекты командой `mkdir VSCodeProjects`, перейдите в нее командой `cd VSCodeProjects`, создайте директорию под конкретный проект `mkdir helloworld`, перейдите в нее `cd helloworld`.

Обновите список доступных пакетов командой `sudo apt-get update`. У вас будет запрошен пароль от пользователя, которого вы задавали при первом запуске дистрибутива. Это требование команды `sudo` (приближенно можно считать аналогом исполнения команды от имени администратора в Windows).

Установите компилятор и дебаггер командой `sudo apt-get install build-essential gdb`.

Убедитесь, что установка прошла успешно, выполнив команду `whereis g++ gdb`. В выводе вы дожны увидеть две строки: одна для g++ со списком путей (**непустым!**), другая для gdb так же со списком путей (разумеется, список будет другим).

После успешной проверки можно запускать VSCode командой `code .` (`.` - синоним текущей директории, если вы следовали инструкции полностью и не гуляли по файловой системе сами, VSCode откроется в директории \<user_home_dir\>/projects/helloworld). В левом нижнем углу в зеленом прямоугольнике должна красоваться надпись `WSL: Ubuntu` (либо другой дистрибутив, если вы его указали конкретно).

Теперь можете переходить к шагу [Hello, world!](#hello-world-section)


<h2 id="linux-section">Linux</h2>

// TODO

<h2 id="macos-section">MacOS</h2>

// TODO

<h2 id="hello-world-section">Hello, world!</h2>

Создайте файл `helloworld.cpp`, это можно сделать, кликнув по иконке `New File...` на открытой директории:

![](/images/file-creation.png)

Вставьте в файл следующий программный код:

```
#include <iostream>

int main() {
   std::cout << "Hello, world!" << std::endl;
   return 0;
}

```

В правом верхнем углу должен появиться треугольник, по нажатию на который запустится компиляция и исполнение программы.

 ![](/images/run.png)

 Если треугольника нет, выберите в панели слева пункт `Run and Debug` и уже в нем нажмите на большую синюю кнопку `Run and Debug`.
 ![](/images/run-and-debug.png)
 
 При первом запуске VSCode попросит выбрать компилятор, **выбирайте g++**. 

В директории с проектом при первом запуске / при первом открытии директории появится поддиректория `.vscode`, в ней VSCode хранит конфиги. Иногда бывает полезно их отредактировать, но в основном вам будет хватать стандартных сгенерированных автоматически.

В случае успеха после лога компиляции во вкладке `TERMINAL` вы должны увидеть строку "Hello, world!".
